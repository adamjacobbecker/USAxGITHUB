// Generated by CoffeeScript 1.3.3
(function(){var e,t,n,r,i,s,o,u;s=function(e){return'<a href="http://github.com/'+e+'" target="_blank">'+e+"</a>"};o=function(e){return'<a href="http://github.com/user/'+e+'" target="_blank">'+e+"</a>"};e={CommitCommentEvent:{name:"Commit Comment"},CreateEvent:{name:"Repo or Branch Created",render:function(e){return e.payload.ref_type==="repository"?" "+o(e.actor.login)+" created "+e.payload.ref_type+" "+s(e.repo.name)+" ":" "+o(e.actor.login)+" created "+e.payload.ref_type+' "'+e.payload.ref+'" on '+s(e.repo.name)+" "}},DeleteEvent:{name:"Branch/Tag Deleted",render:function(e){return" "+o(e.actor.login)+" deleted "+e.payload.ref_type+' "'+e.payload.ref+'" on '+s(e.repo.name)+" "}},DownloadEvent:{name:"Download"},FollowEvent:{name:"User Followed"},ForkEvent:{name:"Fork"},ForkApplyEvent:{name:"Fork Applied"},GistEvent:{name:"Gist Created/Updated"},GollumEvent:{name:"Wiki Updated"},IssueCommentEvent:{name:"Issue Comment"},IssuesEvent:{name:"Issue Opened/CLosed"},MemberEvent:{name:"Collaborator Added"},PublicEvent:{name:"Repo Open-Sourced"},PullRequestEvent:{name:"Pull Request Opened/CLosed"},PullRequestReviewCommentEvent:{name:"Pull Request Comment"},PushEvent:{name:"Push",render:function(e){return" "+o(e.actor.login)+" pushed to "+s(e.repo.name)+" "}},TeamAddEvent:{name:"Team Added"},WatchEvent:{name:"Repo Watched",render:function(e){return" "+o(e.actor.login)+" "+e.payload.action+" watching "+s(e.repo.name)+" "}}};i=function(t){return e[t.type]["render"]!=null?e[t.type].render(t):t.type};r=function(e){var t,n,r,s;t=$("#results");t.html("").addClass("loading");n="";$("#accounts input:checked").each(function(){return n+='"'+$(this).val()+'", '});n=n.slice(0,-2);r="";if($("#event-types input[type=checkbox]:not(:checked)").length>0){r="AND json.type IN (";$("#event-types input[type=checkbox]:checked").each(function(){return r+='"'+$(this).val()+'", '});r=r.slice(0,-2);r+=")"}s=encodeURIComponent('USE "https://raw.github.com/gcb/yql.opentable/master/text.concat.xml" AS text.concat;\n\nSELECT json FROM json\n\nWHERE url in\n  (SELECT text from text.concat\n    WHERE text.key1 = "https://api.github.com/orgs/"\n    AND text.key2 IN ('+n+')\n    AND text.key3 = "/events")\n\n'+r+'\n\n| SORT(field="json.created_at", descending="true")');return $.getJSON("http://query.yahooapis.com/v1/public/yql?q="+s+"&format=json&_maxage=600",function(e){var n,r,s,o;o=e.query.results.json;for(r=0,s=o.length;r<s;r++){n=o[r];t.append("<li>"+i(n.json)+"</li>")}return t.removeClass("loading")})};for(n in e){u=e[n];t='<label class="checkbox">\n  <input type="checkbox" value="'+n+'" checked />\n  '+u.name+"\n</label>";$("#event-types > .accordion-inner").append(t)}$(document).on("change","#accounts input[type=checkbox]",r);$(document).on("change","#event-types input[type=checkbox]",r);$(document).on("click",".toggle-all",function(){var e;e=$(this).parent().find(".accordion-inner input[type=checkbox]");e.attr("checked",e.filter(":checked").length>0?!1:!0);return r()});$(function(){return $.getJSON("http://registry.usa.gov/accounts.json?service_id=github",function(e){var n,i,s,o;o=e.accounts;for(i=0,s=o.length;i<s;i++){n=o[i];t='<label class="checkbox">\n  <input type="checkbox" value="'+n.account+'" checked />\n  '+n.account+"\n</label>";$("#accounts > .accordion-inner").append(t)}return r()})})}).call(this);